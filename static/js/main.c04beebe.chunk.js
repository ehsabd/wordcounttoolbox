(this.webpackJsonpwordcounttoolbox=this.webpackJsonpwordcounttoolbox||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),o=n.n(i),a=n(18),r=n.n(a),h=(n(26),n(8)),d=n(4),l=n(5),c=n(3),u=n(7),b=n(6),f=n.p+"static/media/logo.6ce24c58.svg",g=(n(27),n(28),function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"card mb-2 word-lists",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:["Word Lists",Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.props.loadWordFreqLists,children:"Load Word Freq. Lists"})]})}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[this.props.wordLists.map((function(t,n){return Object(s.jsx)(m,{wordListIndex:n,wordListLabel:t.label,wordListWords:t.words,itemChanged:e.props.itemChanged},n)})),Object(s.jsx)("li",{className:"list-group-item px-2",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("div",{className:"form-group mb-0 text-right",children:Object(s.jsx)("button",{onClick:this.props.addWordList,className:"btn btn-primary",children:"+ Add Word List"})})})})})]})]})}}]),n}(i.Component)),m=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).itemLabelChanged=s.itemLabelChanged.bind(Object(c.a)(s)),s.itemWordsChanged=s.itemWordsChanged.bind(Object(c.a)(s)),s}return Object(l.a)(n,[{key:"itemLabelChanged",value:function(e){this.props.itemChanged(this.props.wordListIndex,e.target.value,this.props.wordListWords)}},{key:"itemWordsChanged",value:function(e){this.props.itemChanged(this.props.wordListIndex,this.props.wordListLabel,e.target.value)}},{key:"render",value:function(){return Object(s.jsx)("li",{className:"list-group-item px-2",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{className:"form-control",onChange:this.itemLabelChanged,value:this.props.wordListLabel})})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("div",{className:"form-group mb-0",children:Object(s.jsx)("textarea",{className:"form-control",onChange:this.itemWordsChanged,value:this.props.wordListWords})})})]})})}}]),n}(i.Component),p=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Word Count Table"}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"List"}),Object(s.jsx)("th",{children:"Count"})]})}),Object(s.jsx)("tbody",{children:this.props.countData.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"undefined"===e[0]?"No List":e[0]}),Object(s.jsx)("td",{children:e[1]})]},"list-".concat(t))}))})]})]})}}]),n}(i.Component),w=n(19),j=n.n(w),v=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={},s.colors=j()({luminosity:"light",count:27}),console.log(e.labels),s}return Object(l.a)(n,[{key:"getColor",value:function(e){return this.colors[this.props.labels.indexOf(e)]}},{key:"render",value:function(){for(var e=this,t=[],n=this.props,i=n.text,o=n.textWords,a=0;a<o.length;a++){var r=o[a];a>0&&t.push({text:i.substring(o[a-1].index+o[a-1].length,r.index)}),t.push({text:r.word,color:this.getColor(r.label)})}return Object(s.jsx)("div",{style:{height:this.props.height,overflowY:"scroll"},className:this.state.isHovered?"border":"",children:Object(s.jsx)("div",{className:"result-text-wrap",onClick:this.props.switchedToEditor,onMouseEnter:function(){e.setState({isHovered:!0})},onMouseLeave:function(){e.setState({isHovered:!1})},children:t.map((function(e,t){return Object(s.jsx)("span",{style:{backgroundColor:e.color},children:e.text},"span-".concat(t))}))})})}}]),n}(i.Component),y=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).labels=[],s.processWords=s.processWords.bind(Object(c.a)(s)),s.state={editorHeight:"300px",isEditor:!0},s}return Object(l.a)(n,[{key:"processWords",value:function(){var e={},t={undefined:0};this.props.wordLists.forEach((function(n){var s=n.label,i=n.words;t[s]=0,void 0!==i&&i.split(",").forEach((function(t){e[t.trim()]=s}))}));var n=Object(h.a)(this.props.text.matchAll(/\w+/g)).map((function(t){var n=t[0].toLowerCase();return{word:n,index:t.index,length:t[0].length,label:e[n]}}));n.forEach((function(n){t[e[n.word]]++}));var s=Object.entries(t);this.setState({countData:s,textWords:n,isEditor:!1})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"text-left pb-2",children:Object(s.jsx)("button",{onClick:this.processWords,className:"btn btn-primary",children:"Count"})}),this.state.isEditor?Object(s.jsx)("textarea",{style:{height:this.state.editorHeight},className:"w-100",rows:"10",onChange:this.props.textChanged,value:this.props.text}):Object(s.jsx)(v,{switchedToEditor:function(){e.setState({isEditor:!0})},textWords:this.state.textWords,labels:this.props.wordLists.map((function(e){var t=e.label;e.words;return t})),text:this.props.text,height:this.state.editorHeight}),this.state.countData&&Object(s.jsx)(p,{countData:this.state.countData})]})}}]),n}(i.Component),x=n(20),O=n.n(x),L=function(){return new Promise((function(e,t){O.a.get("https://script.google.com/macros/s/AKfycbwGLoLNyA2xFrt4eRO8WLqikpfLCpn75j53k8blDdHisFpPNf8oQ4mZ/exec").then((function(t){console.log(t.data),e(t.data)})).catch((function(e){t(e)}))}))},k=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={wordLists:[],text:"\nANNA KARENINA \n\n by Leo Tolstoy \n\n Translated by Constance Garnett \n\nPART ONE\n\nChapter 1\n\n\nHappy families are all alike; every unhappy family is unhappy in its\nown way.\n\nEverything was in confusion in the Oblonskys\u2019 house. The wife had\ndiscovered that the husband was carrying on an intrigue with a French\ngirl, who had been a governess in their family, and she had announced\nto her husband that she could not go on living in the same house with\nhim. This position of affairs had now lasted three days, and not only\nthe husband and wife themselves, but all the members of their family\nand household, were painfully conscious of it. Every person in the\nhouse felt that there was no sense in their living together, and that\nthe stray people brought together by chance in any inn had more in\ncommon with one another than they, the members of the family and\nhousehold of the Oblonskys. The wife did not leave her own room, the\nhusband had not been at home for three days. The children ran wild all\nover the house; the English governess quarreled with the housekeeper,\nand wrote to a friend asking her to look out for a new situation for\nher; the man-cook had walked off the day before just at dinner time;\nthe kitchen-maid, and the coachman had given warning.\n\nThree days after the quarrel, Prince Stepan Arkadyevitch\nOblonsky\u2014Stiva, as he was called in the fashionable world\u2014woke up at\nhis usual hour, that is, at eight o\u2019clock in the morning, not in his\nwife\u2019s bedroom, but on the leather-covered sofa in his study. He turned\nover his stout, well-cared-for person on the springy sofa, as though he\nwould sink into a long sleep again; he vigorously embraced the pillow\non the other side and buried his face in it; but all at once he jumped\nup, sat up on the sofa, and opened his eyes.\n\n\u201cYes, yes, how was it now?\u201d he thought, going over his dream. \u201cNow, how\nwas it? To be sure! Alabin was giving a dinner at Darmstadt; no, not\nDarmstadt, but something American. Yes, but then, Darmstadt was in\nAmerica. Yes, Alabin was giving a dinner on glass tables, and the\ntables sang, _Il mio tesoro_\u2014not _Il mio tesoro_ though, but something\nbetter, and there were some sort of little decanters on the table, and\nthey were women, too,\u201d he remembered.\n\nStepan Arkadyevitch\u2019s eyes twinkled gaily, and he pondered with a\nsmile. \u201cYes, it was nice, very nice. There was a great deal more that\nwas delightful, only there\u2019s no putting it into words, or even\nexpressing it in one\u2019s thoughts awake.\u201d And noticing a gleam of light\npeeping in beside one of the serge curtains, he cheerfully dropped his\nfeet over the edge of the sofa, and felt about with them for his\nslippers, a present on his last birthday, worked for him by his wife on\ngold-colored morocco. And, as he had done every day for the last nine\nyears, he stretched out his hand, without getting up, towards the place\nwhere his dressing-gown always hung in his bedroom. And thereupon he\nsuddenly remembered that he was not sleeping in his wife\u2019s room, but in\nhis study, and why: the smile vanished from his face, he knitted his\nbrows.\n\n\u201cAh, ah, ah! Oo!...\u201d he muttered, recalling everything that had\nhappened. And again every detail of his quarrel with his wife was\npresent to his imagination, all the hopelessness of his position, and\nworst of all, his own fault.\n\n\u201cYes, she won\u2019t forgive me, and she can\u2019t forgive me. And the most\nawful thing about it is that it\u2019s all my fault\u2014all my fault, though I\u2019m\nnot to blame. That\u2019s the point of the whole situation,\u201d he reflected.\n\u201cOh, oh, oh!\u201d he kept repeating in despair, as he remembered the\nacutely painful sensations caused him by this quarrel.\n\nMost unpleasant of all was the first minute when, on coming, happy and\ngood-humored, from the theater, with a huge pear in his hand for his\nwife, he had not found his wife in the drawing-room, to his surprise\nhad not found her in the study either, and saw her at last in her\nbedroom with the unlucky letter that revealed everything in her hand.\n\nShe, his Dolly, forever fussing and worrying over household details,\nand limited in her ideas, as he considered, was sitting perfectly still\nwith the letter in her hand, looking at him with an expression of\nhorror, despair, and indignation.\n\n\u201cWhat\u2019s this? this?\u201d she asked, pointing to the letter.\n\nAnd at this recollection, Stepan Arkadyevitch, as is so often the case,\nwas not so much annoyed at the fact itself as at the way in which he\nhad met his wife\u2019s words.\n\nThere happened to him at that instant what does happen to people when\nthey are unexpectedly caught in something very disgraceful. He did not\nsucceed in adapting his face to the position in which he was placed\ntowards his wife by the discovery of his fault. Instead of being hurt,\ndenying, defending himself, begging forgiveness, instead of remaining\nindifferent even\u2014anything would have been better than what he did\ndo\u2014his face utterly involuntarily (reflex spinal action, reflected\nStepan Arkadyevitch, who was fond of physiology)\u2014utterly involuntarily\nassumed its habitual, good-humored, and therefore idiotic smile.\n\nThis idiotic smile he could not forgive himself. Catching sight of that\nsmile, Dolly shuddered as though at physical pain, broke out with her\ncharacteristic heat into a flood of cruel words, and rushed out of the\nroom. Since then she had refused to see her husband.\n\n\u201cIt\u2019s that idiotic smile that\u2019s to blame for it all,\u201d thought Stepan\nArkadyevitch.\n\n\u201cBut what\u2019s to be done? What\u2019s to be done?\u201d he said to himself in\ndespair, and found no answer."},s.loadWordLists(),console.log(s.state),s.wordListItemChanged=s.wordListItemChanged.bind(Object(c.a)(s)),s.textChanged=s.textChanged.bind(Object(c.a)(s)),s.addWordList=s.addWordList.bind(Object(c.a)(s)),s.loadWordFreqLists=s.loadWordFreqLists.bind(Object(c.a)(s)),s}return Object(l.a)(n,[{key:"wordListItemChanged",value:function(e,t,n){console.log("wordListItemChanged");var s=Object(h.a)(this.state.wordLists);s[e]={label:t,words:n},this.saveWordLists(s)}},{key:"addWordList",value:function(){this.saveWordLists(this.state.wordLists.concat({}))}},{key:"loadWordFreqLists",value:function(){this.loadWordLists(L)}},{key:"textChanged",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("img",{src:f,className:"App-logo",alt:"logo"})," WordCountToolbox"]}),Object(s.jsx)("div",{className:"container-fluid pt-3",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-8",children:Object(s.jsx)(y,{textChanged:this.textChanged,text:this.state.text,wordLists:this.state.wordLists})}),Object(s.jsx)("div",{className:"col-sm-4",children:Object(s.jsx)(g,{addWordList:this.addWordList,loadWordFreqLists:this.loadWordFreqLists,itemChanged:this.wordListItemChanged,wordLists:this.state.wordLists})})]})})]})}},{key:"localStorageWordListLoader",value:function(){return new Promise((function(e,t){setTimeout((function(){var n=localStorage.getItem("wordLists");try{e(JSON.parse(n))}catch(s){t("ERROR parsing JSON")}}))}),0)}},{key:"localStorageWordListSaver",value:function(e){return new Promise((function(t,n){setTimeout((function(){try{var s=JSON.stringify(e);localStorage.setItem("wordLists",s),t("success")}catch(i){n("error saving to localStorage")}}),0)}))}},{key:"loadWordLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localStorageWordListLoader;t().then((function(t){console.log(t),null!=t&&(e.setState({wordLists:[]}),e.setState({wordLists:t}))}))}},{key:"saveWordLists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.localStorageWordListSaver;this.setState({wordLists:e}),t(e)}}]),n}(i.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),o(e),a(e)}))};r.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root")),C()}},[[48,1,2]]]);
//# sourceMappingURL=main.c04beebe.chunk.js.map